let productsArray=[{id:"01",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%A2%D0%B5%D0%BC%D0%BF%D1%83%D1%80%D0%B0%20%D1%80%D0%BE%D0%BB%D0%BB%D1%8B/31622CA1-209B-11EC-90EC-D3BEEA5A2D72-%D0%A2%D0%B5%D0%BC%D0%BF%D1%83%D1%80%D0%B0-%D1%80%D0%BE%D0%BB-8-%D1%88%D1%82.png?alt=media&token=8cc127dd-6439-40a1-8294-804da6a39477&w=800&format=webp&mode=fit&q=70",title:"ТЕМПУРА РОЛЛ",weight:215,price:114,isRoll:!0},{id:"02",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%A2%D0%B5%D0%BC%D0%BF%D1%83%D1%80%D0%B0%20%D1%80%D0%BE%D0%BB%D0%BB%D1%8B/4AF8E0C1-DD87-11EB-9DA7-1D2CA83AD032-%D0%9E%D1%83%D1%88%D0%B5%D0%BD%20%D0%A2%D0%B5%D0%BC%D0%BF%D1%83%D1%80%D0%B0.png?alt=media&token=606f97bc-4dc9-41aa-96ca-a9018fcdacbb&w=800&format=webp&mode=fit&q=70",title:"ОУШЕН ТЕМПУРА",weight:215,price:134,isRoll:!0},{id:"03",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%A2%D0%B5%D0%BC%D0%BF%D1%83%D1%80%D0%B0%20%D1%80%D0%BE%D0%BB%D0%BB%D1%8B/D8ED6D81-005D-11EC-AF41-FDD4AA4B8801-%D0%9A%D0%B0%D0%BB%D1%96%D1%84%D0%BE%D1%80%D0%BD%D1%96%D1%8F%20%D1%82%D0%B5%D0%BC%D0%BF%D1%83%D1%80%D0%B0.png?alt=media&token=07ae65a2-852a-4197-8c97-25d34b57cf24&w=800&format=webp&mode=fit&q=70",title:"КАЛИФОРНИЯ ТЕМПУРА",weight:220,price:124,isRoll:!0},{id:"04",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%97%D0%B0%D0%BF%D0%B5%D1%87%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5%20%D1%80%D0%BE%D0%BB%D0%BB%D1%8B/6CBDE8B1-F694-11EB-9FCA-53A60B80F763-%D0%A5%D0%B0%D0%BC%D0%B0%D0%BD%D1%96%D1%88%D1%96.png?alt=media&token=05b2aa0d-1cfa-475c-a12d-fc4b9abc2800&w=800&format=webp&mode=fit&q=70",title:"ХАМАНИШИ",weight:200,price:169,isRoll:!0},{id:"05",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%9A%D0%B0%D0%BB%D0%B8%D1%84%D0%BE%D1%80%D0%BD%D0%B8%D0%B8/7ED952D1-F443-11EB-A32A-892A7C913AF6-%D0%9A%D0%B0%D0%BB%D1%96%D1%84%D0%BE%D1%80%D0%BD%D1%96%D1%8F%20%D0%B7%20%D0%BB%D0%BE%D1%81%D0%BE%D1%81%D0%B5%D0%BC%20%D0%B2%20%D1%96%D0%BA%D1%80%D1%96.png?alt=media&token=02460b14-238b-4190-ac10-72335cee3c5d&w=800&format=webp&mode=fit&q=70",title:"КАЛИФОРНИЯ С ЛОСОСЕМ В ИКРЕ",weight:195,price:159,isRoll:!0},{id:"06",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%9A%D0%B0%D0%BB%D0%B8%D1%84%D0%BE%D1%80%D0%BD%D0%B8%D0%B8/4F70AD01-F690-11EB-9626-911F95B7A101-%D0%9A%D0%B0%D0%BB%D1%96%D1%84%D0%BE%D1%80%D0%BD%D0%B2%D1%8F%20%D0%B7%20%D1%85%D1%96%D1%8F%D1%88%D0%B8.png?alt=media&token=6de78416-1c54-4aad-bef5-a509c03cc81a&w=800&format=webp&mode=fit&q=70",title:"КАЛИФОРНИЯ С ХИЯШИ",weight:190,price:119,isRoll:!0},{id:"07",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%97%D0%B0%D0%BF%D0%B5%D1%87%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5%20%D1%80%D0%BE%D0%BB%D0%BB%D1%8B/C5249B51-005A-11EC-9E2E-DFD927F85AC4-%D0%A4%D1%83%D0%B4%D0%B6%D1%96.png?alt=media&token=7b92dcdd-4d4e-4abb-8d5c-15090a5b0a7c&w=800&format=webp&mode=fit&q=70",title:"ФУДЖИ",weight:220,price:169,isRoll:!0},{id:"08",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%97%D0%B0%D0%BF%D0%B5%D1%87%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5%20%D1%80%D0%BE%D0%BB%D0%BB%D1%8B/5C0BCD31-0025-11EC-92FC-29FFFBA774A0-%D0%9D%D1%96%D0%B6%D0%BD%D0%B8%D0%B8%CC%86.png?alt=media&token=cf5446dc-38e3-4c61-b020-2671debe5e43&w=800&format=webp&mode=fit&q=70",title:"НЕЖНЫЙ С КУРИЦЕЙ",weight:235,price:114,isRoll:!0},{id:"09",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%97%D0%B0%D0%BF%D0%B5%D1%87%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5%20%D1%80%D0%BE%D0%BB%D0%BB%D1%8B/F878DD91-005A-11EC-9E2E-DFD927F85AC4-%D0%9E%D0%BA%D1%96%D0%BD%D0%B0%D0%B2%D0%B0.png?alt=media&token=4e86e9a8-a9dd-4992-8355-25d9e1636f9f&w=800&format=webp&mode=fit&q=70",title:"ОКИНАВА",weight:194,price:250,isRoll:!0},{id:"10",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%97%D0%B0%D0%BF%D0%B5%D1%87%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5%20%D1%80%D0%BE%D0%BB%D0%BB%D1%8B/4EDF96F1-005C-11EC-BD72-C58750A2CB94-%D0%9D%D1%96%D0%B6%D0%BD%D0%B8%D0%B8%CC%86.png?alt=media&token=fcc1015f-2bf2-460b-8cf4-9da361141611&w=800&format=webp&mode=fit&q=70",title:"НЕЖНЫЙ С СЫРОМ",weight:215,price:114,isRoll:!0},{id:"11",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%A4%D0%B8%D0%BB%D0%B0%D0%B4%D0%B5%D0%BB%D1%8C%D1%84%D0%B8%D0%B8/DD36A561-005C-11EC-BD72-C58750A2CB94-%D0%A4%D1%96%D0%BB%D0%B0%D0%B4%D0%B5%D0%BB%D1%8C%D1%84%D1%96%D1%8F%20De-Lux.png?alt=media&token=47d77016-8cf0-4ef8-8636-a5555c3cd919&w=800&format=webp&mode=fit&q=70",title:"ФИЛАДЕЛЬФИЯ DE-LUX КОПЧЕНЫЙ",weight:215,price:209,isRoll:!0},{id:"12",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%A0%D0%BE%D0%BB%D0%B8/0FB0B441-005D-11EC-B8A2-074CAECE6DA1-%D0%A4%D1%83%D1%82%D0%BE%D0%BC%D0%B0%D0%BA%D1%96%20%D0%B7%20%D0%BB%D0%BE%D1%81%D0%BE%D1%81%D0%B5%D0%BC.png?alt=media&token=0202834f-f99d-434f-9ca6-0a3171c440a3&w=800&format=webp&mode=fit&q=70",title:"ФУТОМАКИ С ЛОСОСЕМ",weight:205,price:144,isRoll:!0},{id:"13",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%A1%D0%B5%D1%82%D0%B8/717703E1-B0E4-11EC-AA10-E19CF46FED24-1969%D1%851100-%D0%A1%D0%B5%D1%82-%D0%97%D0%A1%D0%A3.png?alt=media&token=772590d9-7f26-4b5e-9b89-fb660933d489&w=800&format=webp&mode=fit&q=70",title:"СЕТ ЗСУ",weight:1020,price:530,isSet:!0},{id:"14",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%A1%D0%B5%D1%82%D0%B8/53212DE1-908B-11EC-930E-A758E8F50569-1969%D1%851100%20%D0%A1%D0%B5%D1%82%20XXL.png?alt=media&token=5af9d7eb-c197-4afb-af17-04842c3a7a50&w=800&format=webp&mode=fit&q=70",title:"СЕТ XXL",weight:1200,price:1090,isSet:!0},{id:"15",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%A1%D0%B5%D1%82%D0%B8/523AF770-19F9-11EC-918D-C71D40A50D30-Set%20Jet_polosa_transparent%20back_1969%D1%851100_1.png?alt=media&token=04600e87-2919-43ff-bba0-815bc9e2ca55&w=800&format=webp&mode=fit&q=70",title:"СЕТ ДЖЕТ",weight:1e3,price:549,isSet:!0},{id:"16",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%A1%D0%B5%D1%82%D0%B8/219B2671-7DC8-11EC-9172-EBE920337172-1969%D1%851100%20%D0%A1%D0%B5%D1%82%20%D0%98%D0%B3%D1%80%D0%B0%20%D0%B2%20%D0%BA%D1%80%D0%B5%D0%B2%D0%B5%D1%82%D0%BA%D1%83.png?alt=media&token=694193ba-0e76-4f24-a53d-11d40ddcad0d&w=800&format=webp&mode=fit&q=70",title:"СЕТ ИГРА В КРЕВЕТКУ",weight:655,price:429,isSet:!0},{id:"17",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%A1%D0%B5%D1%82%D0%B8/361B4C11-2094-11EC-B1AA-15534DD3993E-%D0%A1%D0%B5%D1%82-%D0%A2%D0%B5%D0%BF%D0%BB%D0%B8%D0%B9.png?alt=media&token=493bd745-4e97-490d-9f36-42ebc7255111&w=800&format=webp&mode=fit&q=70",title:"СЕТ ТЕПЛЫЙ",weight:885,price:499,isSet:!0},{id:"18",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%A1%D0%B5%D1%82%D0%B8/76009A01-3B0C-11EC-B744-439CB42A6AD3-%D0%A1%D0%B5%D1%82-%D0%9C%D0%B5%D0%B3%D0%B0-%D0%A5%D1%96%D1%82.png?alt=media&token=f29b7a2d-ad60-4167-964d-cb9e9a54c656&w=800&format=webp&mode=fit&q=70",title:"СЕТ МЕГА ХИТ",weight:983,price:590,isSet:!0},{id:"19",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%A1%D0%B5%D1%82%D0%B8/02478421-2095-11EC-BA07-35C5A932614A-%D0%A1%D0%B5%D1%82-5-%D0%A5%D1%96%D1%82%D1%96%D0%B2.png?alt=media&token=22c7174c-7a63-44f9-8889-2002e55545d3&w=800&format=webp&mode=fit&q=70",title:"СЕТ 5 ХИТОВ",weight:865,price:549,isSet:!0},{id:"20",imgSrc:"https://x100-venus-sm-ua.gumlet.io/SKU/SUSHI-MASTER/%D0%A1%D0%B5%D1%82%D0%B8/9633C151-2548-11EC-838F-9F03E99E9AAD-%D0%A1%D0%B5%D1%82-%D0%A2%D0%B5%D0%BF%D0%BB%D0%B8%D0%B9-MIX.png?alt=media&token=ca031773-8cf1-4d7d-9990-5fef7d707340&w=800&format=webp&mode=fit&q=70",title:"СЕТ ТЕПЛЫЙ МИКС",weight:1345,price:1100,isSet:!0}];const pagesBody=document.querySelector(".pages"),itemPerPage=4;let numberOfPages,arrayBeforePagination=[],pageNumber=1,start=4*(pageNumber-1),end=start+4,pagesBtns=[],cardsWrap=document.querySelector(".cards"),sortedArray=[],currentArray=productsArray;function sortByMinPrice(e){e.sort(((e,t)=>e.price>t.price?1:-1))}function sortByMaxPrice(e){e.sort(((e,t)=>e.price<t.price?1:-1))}function sortByMinWeight(e){e.sort(((e,t)=>e.weight>t.weight?1:-1))}function sortByMaxWeight(e){e.sort(((e,t)=>e.weight<t.weight?1:-1))}function deleteOldArrayElements(){document.querySelectorAll(".card").forEach((e=>e.remove()))}function showItems(){deleteOldArrayElements(),renderPagination(currentArray),getNumberOfPages(currentArray),makePages(currentArray),findPaginationBtns();for(let e of pagesBtns)e.addEventListener("click",(()=>{showPage(e)}))}function getNumberOfPages(e){numberOfPages=e.length/4,console.log(`Pages must be = ${numberOfPages}`)}function makePages(e){for(pagesBody.innerHTML="",getNumberOfPages(e),pagesBtns=[],i=1;i<numberOfPages+1;i++){let e=document.createElement("div");e.classList.add("page"),e.innerHTML=i,pagesBody.appendChild(e)}console.log(pagesBtns)}function findPaginationBtns(){pagesBtns=document.querySelectorAll(".page"),console.log(pagesBtns)}makePages(currentArray),renderPagination(currentArray),findPaginationBtns(),showPage(pagesBtns[0]),window.addEventListener("click",(e=>{"all"===e.target.dataset.show?(currentArray=productsArray,showItems()):"sets"===e.target.dataset.show?(currentArray=productsArray.filter((e=>!0===e.isSet)),showItems()):"rolls"===e.target.dataset.show&&(currentArray=productsArray.filter((e=>!0===e.isRoll)),showItems())})),window.addEventListener("click",(e=>{let t=document.querySelector("#sorting-by-price-icon"),r=document.querySelector("#sorting-by-weight-icon");"true"===e.target.dataset.sortingPrice?(e.target.dataset.sortingPrice="false",sortByMaxPrice(currentArray),deleteOldArrayElements(),renderPagination(currentArray),t.classList.add("active"),showPage(pagesBtns[0])):"false"===e.target.dataset.sortingPrice&&(e.target.dataset.sortingPrice="true",deleteOldArrayElements(),sortByMinPrice(currentArray),renderPagination(currentArray),t.classList.remove("active"),showPage(pagesBtns[0])),"true"===e.target.dataset.sortingWeight?(e.target.dataset.sortingWeight="false",deleteOldArrayElements(),sortByMaxWeight(currentArray),renderPagination(currentArray),r.classList.add("active"),showPage(pagesBtns[0])):"false"===e.target.dataset.sortingWeight&&(e.target.dataset.sortingWeight="true",deleteOldArrayElements(),sortByMinWeight(currentArray),renderPagination(currentArray),t.classList.remove("active"),showPage(pagesBtns[0]))}));for(let e of pagesBtns)e.addEventListener("click",(()=>{showPage(e)}));function showPage(e){pagesBtns[0].classList.add("active");for(let e of pagesBtns)e.classList.remove("active");e.classList.add("active"),cardsWrap.innerHTML="",pageNumber=e.innerHTML,start=4*(pageNumber-1),end=start+4,console.log(currentArray),renderPagination(currentArray),console.log(pageNumber)}function renderPagination(e){let t=e.slice(start,end);for(let e of t){let t=document.createElement("div");e.title=e.title[0]+e.title.slice(1).toLocaleLowerCase(),t.classList.add("card"),t.setAttribute("id",e.id),!0===e.isSet&&t.setAttribute("isSet",e.isSet),t.innerHTML=`\n                <img src="${e.imgSrc}" alt="" class="card__img">\n                <p class="card__title">${e.title}</p>\n                <div class="card__weight-body">\n                <p class="card__weight">${e.weight} </p> <span class="card__weight">г<span> \n                </div>\n                <div class="card__item">\n                    <div class="card__item-left">\n                        <div class="card__item-counter--body">\n                            <button data-counter="minus" class="btn__counter minus__counter">-</button>\n                            <div class="counter">1</div>\n                            <button  data-counter="plus" class="btn__counter plus__counter">+</button>\n                        </div>\n                        <span class="card__price">${e.price} </span> <span class="card__price"> ₴</span>\n                    </div>\n\n                    <button data-add-to-cart class="card__btn">В КОРЗИНУ</button>\n                </div>\n        `,cardsWrap.appendChild(t)}}window.addEventListener("click",(e=>{if(e.target.hasAttribute("data-counter")){const t=e.target.closest(".card");console.log(t);const r=t.querySelector(".counter");console.log(r.innerText),"plus"===e.target.dataset.counter&&(r.innerText=++r.innerText),"minus"===e.target.dataset.counter&&r.innerText>1&&(r.innerText=--r.innerText)}}));const cartWrap=document.querySelector(".cart__items");window.addEventListener("click",(e=>{if(e.target.hasAttribute("data-add-to-cart")){const t=e.target.closest(".card");console.log(t);let r={id:t.id,imgSrc:t.querySelector(".card__img").getAttribute("src"),name:t.querySelector(".card__title").innerText,weight:t.querySelector(".card__weight").innerText,price:t.querySelector(".card__price").innerText,size:Number(t.querySelector(".counter").innerText)};const a=cartWrap.querySelector(`[data-cardid="${r.id}"]`);if(a){let e=a.querySelector("[data-counter-basket]");e.innerHTML=Number(e.innerHTML)+Number(r.size)}else{const e=document.createElement("div");e.classList.add("cart__item-body"),e.innerHTML=`<div class="cart__item" data-cardid="${r.id}">\n            <div class="cart__item-left">\n                    <img src="${r.imgSrc}" alt="" class="cart__item-img">\n                    <div class="card__item-counter--body">\n                        <button data-counter-cart="minus" class="btn__counter minus__counter minus__counter-cart">-</button>\n                        <div data-counter-basket class="counter counter-cart">${r.size}</div>\n                        <button data-counter-cart="plus" class="btn__counter plus__counter plus__counter-cart">+</button>\n                    </div>\n                </div>\n                <div class="cart__item-right">\n                    <p class="cart__item-title">${r.name}</p>\n                    <p class="cart__item-weight">${r.weight}</p>\n                    <p data-price class="cart__item-price">${r.price} <span> ₴</span> </p>\n                </div>\n            </div>`,cartWrap.insertAdjacentElement("beforeend",e)}t.querySelector(".counter").innerHTML="1",cartClearToggle(),sumTotal(),deliveryPrice()}})),window.addEventListener("click",(e=>{if(e.target.hasAttribute("data-counter-cart")){const t=e.target.closest(".cart__item-body"),r=t.querySelector(".counter-cart");"plus"===e.target.dataset.counterCart&&(r.innerText=++r.innerText,sumTotal(),deliveryPrice()),"minus"===e.target.dataset.counterCart&&(r.innerText<=1?(t.remove(),cartClearToggle(),sumTotal(),deliveryPrice()):(r.innerText=--r.innerText,cartClearToggle(),sumTotal(),deliveryPrice()))}}));const cartClear=document.querySelector(".cart__clear"),cartOffer=document.querySelector(".cart__offer");function cartClearToggle(){cartWrap.children.length>0?(cartClear.classList.add("none"),cartOffer.classList.remove("none"),console.log(cartWrap.children.length)):0==cartWrap.children.length&&(cartClear.classList.remove("none"),cartOffer.classList.add("none"))}function sumTotal(){const e=document.querySelector(".cart__items").querySelectorAll(".cart__item"),t=document.querySelector("[data-sum]");let r=0;for(let t of e){const e=t.querySelector("[data-counter-basket]").innerText,a=t.querySelector("[data-price]").innerText;r+=parseInt(e)*parseInt(a)}t.innerText=r}function deliveryPrice(){const e=document.querySelector("[data-delivery]");parseInt(document.querySelector("[data-sum]").innerHTML)>600?(e.innerHTML="безкоштовно",e.classList.add("green"),console.log("work")):(e.innerHTML="250 ₴",e.classList.remove("green"))}const regBtn=document.querySelector(".btn__login"),regModalBody=document.querySelector(".reg__body"),uploadBtn=document.querySelector(".reg__form-btn-upload"),sendFormBtn=document.querySelector(".reg__form-btn"),nameInput=document.querySelector(".reg__login"),passInput=document.querySelector("[data-password]"),passInputRepeat=document.querySelector("[data-password-repeat]"),uploadInput=document.querySelector(".reg__form-file"),helloUserEl=document.querySelector(".hello__user");let imgSrc,gotUserName,gotUserPass,validationStatus;function validationForForm(){validationStatus=!(""===nameInput.value||""===passInput.value||passInput.value.length<8||passInput.value!=passInputRepeat.value||void 0===imgSrc),""===nameInput.value&&alert("Введите имя"),(""===passInput.value||passInput.value.length<8)&&alert("Пароль должен включать минимум 8 символов"),passInput.value!=passInputRepeat.value&&alert("Пароли должны совпадать"),void 0===imgSrc&&alert("Выберите аватар"),!0===validationStatus&&sendFormBtn.classList.remove("disable"),console.log(validationStatus)}function getImgSrc(){uploadInput.addEventListener("change",(()=>{const e=uploadInput.files[0],t=new FileReader;t.readAsDataURL(e),t.onload=function(){imgSrc=t.result;let e=document.createElement("img");e.src=imgSrc;let r=document.querySelector(".reg__form-preload");r.innerHTML="",r.appendChild(e)}}))}function getInfosAboutUser(){gotUserName=nameInput.value,gotUserPass=passInputRepeat.value}function showUserInfo(){helloUserEl.style.display="flex",regBtn.style.display="none";let e=helloUserEl.querySelector(".hello__user-img"),t=helloUserEl.querySelector("[data-user-name]");e.src=imgSrc,t.innerHTML=gotUserName}function openRegModal(){regModalBody.style.display="flex",document.body.classList.add("hidden")}function closeRegModal(){regModalBody.style.display="none",document.body.classList.remove("hidden")}uploadBtn.addEventListener("click",(e=>{e.preventDefault(),uploadInput.click(),getImgSrc()})),sendFormBtn.addEventListener("click",(e=>{e.preventDefault(),getInfosAboutUser(),validationForForm(),!0===validationStatus&&(closeRegModal(),showUserInfo())})),regBtn.addEventListener("click",(()=>{openRegModal()})),window.addEventListener("click",(e=>{e.target===regModalBody&&closeRegModal()}));